<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fail Digital Penyelaras - Viewer</title>

  <!-- ‚úÖ Tailwind CSS for styling -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <script>
  async function loadMaterials() {
      try {
          let response = await fetch('materials.json');
          let materialsData = await response.json();
          renderMaterials(materialsData);
      } catch (e) {
          console.error("Gagal memuatkan materials.json", e);
          document.getElementById("content").innerHTML =
            "<p class='text-red-600'>‚ùå Gagal memuat data. Pastikan fail <code>materials.json</code> wujud.</p>";
      }
  }

  function renderMaterials(materialsData) {
      const categories = {
          "surat": "Surat",
          "dasar": "Dasar",
          "panduan": "Panduan",
          "tahap1": "Tahap 1",
          "tahap2": "Tahap 2",
          "aktiviti": "Aktiviti"
      };

      let container = document.getElementById("content");
      container.innerHTML = "";
      for (let cat in categories) {
          let section = document.createElement("div");
          section.className = "mb-6";
          section.innerHTML = `<h2 class='text-xl font-bold mb-2 text-gray-800'>${categories[cat]}</h2>`;

          let ul = document.createElement("ul");
          ul.className = "list-disc list-inside space-y-1";
          if (materialsData[cat] && materialsData[cat].length > 0) {
              materialsData[cat].forEach(item => {
                  let li = document.createElement("li");
                  li.innerHTML = `<a href='${item.link}' target='_blank' class='text-blue-600 hover:underline'>${item.name}</a>`;
                  ul.appendChild(li);
              });
          } else {
              ul.innerHTML = "<li class='text-gray-500 italic'>Tiada bahan</li>";
          }
          section.appendChild(ul);
          container.appendChild(section);
      }
  }

  document.addEventListener("DOMContentLoaded", loadMaterials);
  </script>
</head>
<body class="bg-gray-50 p-6">
  <div class="max-w-3xl mx-auto bg-white shadow-lg rounded-xl p-6">
    <h1 class="text-2xl font-bold mb-6 text-gray-900">üìÇ Fail Digital Penyelaras (Viewer)</h1>
    <div id="content" class="text-gray-700">Memuatkan data...</div>
  </div>
</body>
</html>
